(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(43)},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(10),l=n.n(s),u=n(11),o=n(12),i=n(14),m=n(13),c=n(15),d=n(2),h=n.n(d),p="http://localhost:3001/api/persons",f={getAll:function(){return h.a.get(p)},create:function(e){return h.a.post(p,e)},remove:function(e){return h.a.delete(p+"/"+e)}},b=(n(41),function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.person.name),r.a.createElement("td",null,e.person.number),r.a.createElement("td",null,e.person.id),r.a.createElement("td",null,r.a.createElement("button",{onClick:e.deletePerson},"poista")))}),w=function(e){return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,e.persons.map(function(t){return r.a.createElement(b,{key:t.name,person:t,deletePerson:e.deletePerson(t.id)})}))))},E=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:e.state.newName,onChange:e.handleNewName})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:e.state.newNumber,onChange:e.handleNewNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},N=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"message"},t)},v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e))).addPerson=function(e){e.preventDefault();var t={name:n.state.newName,number:n.state.newNumber};n.state.persons.map(function(e){return e.name}).includes(t.name)||f.create(t).then(function(e){var a=n.state.persons.concat(e.data);n.setState({persons:a,newName:"",newNumber:"",message:"lis\xe4ttiin "+t.name}),setTimeout(function(){n.setState({message:null})},5e3)})},n.deletePerson=function(e){return function(){window.confirm("poistetaanko?")&&f.remove(e).then(function(t){var a=n.state.persons.filter(function(t,n,a){return t.id!==e});n.setState({persons:a,message:"yhteystieto poistettu"}),setTimeout(function(){n.setState({message:null})},5e3)})}},n.handleNewName=function(e){n.setState({newName:e.target.value})},n.handleNewPhone=function(e){n.setState({newNumber:e.target.value})},n.state={persons:[],newName:"",newNumber:"",message:null},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.getAll().then(function(t){e.setState({persons:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(N,{message:this.state.message}),r.a.createElement(E,{state:this.state,addPerson:this.addPerson.bind(this),handleNewName:this.handleNewName.bind(this),handleNewNumber:this.handleNewPhone.bind(this)}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(w,{persons:this.state.persons,deletePerson:this.deletePerson.bind(this)}))}}]),t}(r.a.Component);l.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.fe5bed88.chunk.js.map